<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" xmlns="sap.m"
	xmlns:html="http://www.w3.org/1999/xhtml" xmlns:custom="zecp.controls">
<VBox class="sapUiSmallMargin" visible="{oSetProperty>/oAgrTopDetails}">
		<f:SimpleForm id="idAgreementDetailsFormTop" editable="true" layout="ResponsiveGridLayout"
			title="{i18n>OriginalAgrDetails} - {LocalDataModel>/AgreementObj/AgreementNumber}" labelSpanXL="5" labelSpanL="5" labelSpanM="5"
			labelSpanS="4" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false">
			<f:content>
				<core:Title text=""/>
				<Label text="{i18n>EffectiveDate}" id="idEfDate"/>
				<Text
					text="{ path: 'LocalDataModel>/AgreementObj/AgreementEffectiveDate', type: 'sap.ui.model.type.Date', constraints: { displayFormat: 'Date' }, formatOptions: { style: 'medium', strictParsing: true , UTC: true} }"/>
				<Label text="{i18n>ExpiryDate}"/>
				<Text id="idExDate"
					text="{ path: 'LocalDataModel>/AgreementObj/AgreementthruDate', type: 'sap.ui.model.type.Date', constraints: { displayFormat: 'Date' }, formatOptions: { style: 'medium', strictParsing: true , UTC: true}}"/>
				<core:Title text=""/>
				<Label text="{i18n>SellingDealerCode}"/>
				<Text id="idSeDealer" text="{LocalDataModel>/AgreementObj/DealershipNumber}"/>
				<Label text="{i18n>SellingDealerName}"/>
				<Text id="idSeDealName" text=""/>
				<core:Title text=""/>
				<Label text="{i18n>VehicleSurcharge}"/>
				<Text id="idVeSur" text="{LocalDataModel>/AgreementObj/SurchargeAmount}"/>
				<Label text="{i18n>PreOwnedCert}"/>
				<Text id="idPreOwn" text="{LocalDataModel>/AgreementObj/PROWNDCERT}"/>
			</f:content>
		</f:SimpleForm>
	</VBox>
	<l:VerticalLayout width="100%" class="gridWrapper">
		<l:Grid containerQuery="true" defaultSpan="XL4 L4 M6 S12">
			<html:div class="exampleDiv">
				<f:SimpleForm id="AgrOwnerFm" editable="true" layout="ResponsiveGridLayout" title="{i18n>AgreementOwner}" labelSpanXL="5" labelSpanL="5"
					labelSpanM="5" labelSpanS="4" adjustLabelSpan="true" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="1" columnsL="1"
					columnsM="1" singleContainerFullSize="false" visible="{oSetProperty>/oAgrOwner}">
					<f:content>
						<Label text="{i18n>Customer}"/>
						<Text text="{LocalDataModel>/OwnerData/BusinessPartner}"/>
						<Label text="{i18n>Type}"/>
						<Text text="{path: 'LocalDataModel>/PricingModelData/BPTYPE', formatter : 'zecp.utils.formatter.fnFormatType'}"/>
						<Label text="{i18n>Language}"/>
						<Text text="{LocalDataModel>/OwnerData/Language}"/>
						<Label text="{i18n>Name}"/>
						<Text text="{LocalDataModel>/AgreementOwnerName/LastName} {LocalDataModel>/AgreementOwnerName/FirstName}"/>
						<Label text="{i18n>Address}"/>
						<Text text="{LocalDataModel>/OwnerData/StreetName}"/>
						<Label text="{i18n>City}"/>
						<Text text="{LocalDataModel>/OwnerData/CityName}"/>
						<Label text="{i18n>Province}"/>
						<Text text="{LocalDataModel>/OwnerData/Region}"/>
						<Label text="{i18n>PostalCode}"/>
						<Text text="{LocalDataModel>/OwnerData/PostalCode}"/>
						<Label text="{i18n>Email}"/>
						<Text text="{LocalDataModel>/OwnerData/EmailAddress}"/>
						<Label text="{i18n>Home}"/>
						<Text text="{LocalDataModel>/OwnerData/PhoneNumber}"/>
						<Label text="{i18n>Business}"/>
						<Text text="{LocalDataModel>/OwnerData/FaxNumber}"/>
					</f:content>
				</f:SimpleForm>
				
				<f:SimpleForm id="AgrOwnerDMS" editable="true" layout="ResponsiveGridLayout" title="{i18n>AgreementOwner}" labelSpanXL="5" labelSpanL="5"
					labelSpanM="5" labelSpanS="4" adjustLabelSpan="true" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="1" columnsL="1"
					columnsM="1" singleContainerFullSize="false" visible="{oSetProperty>/oAgrOwnerDMS}">
					<f:content>
						<Label text="{i18n>Customer}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/Customer}"/>
						<Label text="{i18n>Type}"/>
						<Text text="{path: 'LocalDataModel>/ApplicationOwnerData/BPTYPE', formatter : 'zecp.utils.formatter.fnFormatType'}"/>
						<Label text="{i18n>Language}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/Language}"/>
						<Label text="{i18n>Name}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/CustomerName} {LocalDataModel>/ApplicationOwnerData/CustomerLastName}"/>
						<Label text="{i18n>Address}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/Address}"/>
						<Label text="{i18n>City}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/City}"/>
						<Label text="{i18n>Province}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/Province}"/>
						<Label text="{i18n>PostalCode}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/PostalCode}"/>
						<Label text="{i18n>Email}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/Email}"/>
						<Label text="{i18n>Home}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/HomePhone}"/>
						<Label text="{i18n>Business}"/>
						<Text text="{LocalDataModel>/ApplicationOwnerData/BusinessPhone}"/>
					</f:content>
				</f:SimpleForm>
			</html:div>
			<html:div class="exampleDiv">
				<f:SimpleForm id="VeOwnerFm" editable="true" layout="ResponsiveGridLayout" title="{i18n>VehicleOwner}" labelSpanXL="5" labelSpanL="5"
					labelSpanM="5" labelSpanS="4" adjustLabelSpan="true" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="1" columnsL="1"
					columnsM="1" singleContainerFullSize="false">
					<f:content>
						<!--<Label text="{i18n>Customer}" textAlign="Begin"/>-->
						<!--<Text id="idVehCustomer" text="{path:'EcpFieldData>/ZecpCustNum'}"/>-->
						<!--<Label text="{i18n>Type}"/>-->
						<!--<Text  text="{path: 'LocalDataModel>/PricingModelData/BPTYPE', formatter : 'zecp.utils.formatter.fnFormatType'}"/>-->
						<!--<Label text="{i18n>Language}" textAlign="Begin"/>-->
						<!--<Text text="{LocalDataModel>/BusinessPartnerData/Language}"/>-->
						<!--<Label text="{i18n>Name}"/>-->
						<!--<Text text="{EcpFieldData>/ZecpCustName} {EcpFieldData>/ZecpLastName}"/>-->
						<!--<Label text="{i18n>Address}"/>-->
						<!--<Text text="{EcpFieldData>/ZecpAddress}"/>-->
						<!--<Label text="{i18n>City}"/>-->
						<!--<Text text="{EcpFieldData>/ZecpCity}"/>-->
						<!--<Label text="{i18n>Province}"/>-->
						<!--<Text text="{EcpFieldData>/ZecpProvince}"/>-->
						<!--<Label text="{i18n>PostalCode}"/>-->
						<!--<Text text="{EcpFieldData>/ZecpPostalcode}"/>-->
						<!--<Label text="{i18n>Email}"/>-->
						<!--<Text text="{EcpFieldData>/ZecpEmail}"/>-->
						<!--<Label text="{i18n>Home}"/>-->
						<!--<Text text="{EcpFieldData>/ZecpHomePhone}"/>-->
						<!--<Label text="{i18n>Business}"/>-->
						<!--<Text text="{EcpFieldData>/ZecpBusPhone}" id="idFaxNum"/>-->
						<Label text="{i18n>Customer}"/>
						<Text text="{LocalDataModel>/OwnerData/BusinessPartner}"/>
						<Label text="{i18n>Type}"/>
						<Text text="{path: 'LocalDataModel>/PricingModelData/BPTYPE', formatter : 'zecp.utils.formatter.fnFormatType'}"/>
						<Label text="{i18n>Language}"/>
						<Text text="{LocalDataModel>/OwnerData/Language}"/>
						<Label text="{i18n>Name}"/>
						<Text text="{LocalDataModel>/AgreementOwnerName/LastName} {LocalDataModel>/AgreementOwnerName/FirstName}"/>
						<Label text="{i18n>Address}"/>
						<Text text="{LocalDataModel>/OwnerData/StreetName}"/>
						<Label text="{i18n>City}"/>
						<Text text="{LocalDataModel>/OwnerData/CityName}"/>
						<Label text="{i18n>Province}"/>
						<Text text="{LocalDataModel>/OwnerData/Region}"/>
						<Label text="{i18n>PostalCode}"/>
						<Text text="{LocalDataModel>/OwnerData/PostalCode}"/>
						<Label text="{i18n>Email}"/>
						<Text text="{LocalDataModel>/OwnerData/EmailAddress}"/>
						<Label text="{i18n>Home}"/>
						<Text text="{LocalDataModel>/OwnerData/PhoneNumber}"/>
						<Label text="{i18n>Business}"/>
						<Text text="{LocalDataModel>/OwnerData/FaxNumber}"/>
					</f:content>
				</f:SimpleForm>
			</html:div>
			<html:div class="exampleDiv">
				<f:SimpleForm id="VeDetailsFm" editable="true" layout="ResponsiveGridLayout" title="{i18n>VehicleDetails}" labelSpanXL="5" labelSpanL="5"
					labelSpanM="5" labelSpanS="4" adjustLabelSpan="true" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="1" columnsL="1"
					columnsM="1" singleContainerFullSize="false">
					<f:content>
						<core:Title text="VIN : {EcpFieldData>/ZecpVin}"/>
						<Label text="{i18n>Make}"/>
						<Text text="{EcpFieldData>/ZecpMake}"/>
						<Label text="{i18n>Model}"/>
						<Text text="{EcpFieldData>/ZecpModelcode}"/>
						<Label text="{i18n>Year}"/>
						<Text text="{LocalDataModel>/PricingModelData/ZZMOYR}"/>
						<!--<Label text="{i18n>AutoCode}"/>-->
						<!--<Text text="{EcpFieldData>/ZecpAutocode}"/>-->
						<Label text="{i18n>RegDate}"/>
						<Text id="idRegDate"
							text="{ path: 'LocalDataModel>/PricingModelData/REG_DATE', type: 'sap.ui.model.type.Date', constraints: { displayFormat: 'Date' }, formatOptions: { style: 'medium', strictParsing: true , UTC: true}}"/>
						<Label text="{i18n>DealType}"/>
						<Text text="{LocalDataModel>/PricingModelData/DEALTYPEDESC}"/>
						<Label text="{i18n>VehiclePrice}"/>
						<Input type="Number" id="idVPrice" editable="{LocalDataModel>/editableField}" value="{EcpFieldData>/ZecpVehPrice}" required="true" valueState="{LocalDataModel>/VehPriceState}"/>
						<Label text="{i18n>AmtFinanced}"/>
						<Input liveChange="onChangeAmt" required="{LocalDataModel>/AmtFinReq}" valueState="{LocalDataModel>/AmtFinState}" type="Number" value="{EcpFieldData>/ZecpAmtFin}" editable="{LocalDataModel>/editableField}"/>
						<Label text="{i18n>LienholderName}"/>
						<Input liveChange="onChangeAmt" required="{LocalDataModel>/ZecpLienHolderReq}" valueState="{LocalDataModel>/ZecpLienHolderState}" value="{EcpFieldData>/ZecpLienholder}" editable="{LocalDataModel>/editableField}"/>
						<Label text="{i18n>LienTerms}"/>
						<custom:CustomInput  liveChange="onChangeAmt" required="{LocalDataModel>/ZecpTermsReq}" valueState="{LocalDataModel>/ZecpTermsState}" value="{EcpFieldData>/ZecpLienterms}" editable="{LocalDataModel>/editableField}"/>
					</f:content>
				</f:SimpleForm>
			</html:div>
			
		</l:Grid>
	</l:VerticalLayout>
	<l:VerticalLayout width="100%" class="gridWrapper">
		<l:Grid containerQuery="true" defaultSpan="XL4 L4 M6 S12">
			<html:div class="exampleDiv">
				<f:SimpleForm id="PlanDetailsFm" editable="true" layout="ResponsiveGridLayout" title="{i18n>EcpAgreementPrice}" labelSpanXL="5"
					labelSpanL="5" labelSpanM="5" labelSpanS="4" adjustLabelSpan="true" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"
					columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false">
					<f:content>
						<Label text="{i18n>PlanCode}"/>
						<Text text="{EcpFieldData>/ZecpPlancode}" id="idPlanCodeText"/>
						<Label text="{i18n>PlanPurchasePrice}"/>
						<Input type="Number" value="{EcpFieldData>/ZecpPlanpurchprice}" id="idPlanPurchase" required="true"
							valueState="{LocalDataModel>/PlanPurchase}" editable="{LocalDataModel>/editableField}"
							liveChange="onEnterPlanPurchasePrice"
							/>
						<Label text="{i18n>RetailPrice}"/>
						<Text text="{LocalDataModel>/oPlanPricingData/ZECP_RET_PRICE}"/>
						<Label text="{i18n>DeferredSurcharge}"/>
						<Text text="{LocalDataModel>/oPlanPricingData/ZECP_DEF_SURCHRG}"/>
						<Label text="{i18n>ListPurchasePrice}"/>
						<Text text="{LocalDataModel>/oPlanPricingData/ZECP_LISTPURPRICE}"/>
						<Label text="{i18n>VehicleSurcharge}"/>
						<Text text="{LocalDataModel>/oPlanPricingData/ZECP_VEH_SURCHRG_AMT}"/>
						<Label text="{i18n>VehicleSurcharge}" visible="{oSetProperty>/oSurcharge}"/>
						<VBox visible="{oSetProperty>/oSurcharge}">
							<HBox justifyContent="SpaceBetween">
								<CheckBox text="4X4 Trucks" wrapping="true"/>
								<CheckBox text="Cars. Diesel, 8/10 Cyl" wrapping="true"/>
							</HBox>
							<HBox justifyContent="SpaceBetween">
								<CheckBox text="Turbo" wrapping="true"/>
								<CheckBox text="Supercharge" wrapping="true"/>
							</HBox>
						</VBox>
					</f:content>
				</f:SimpleForm>
			</html:div>
			<html:div class="exampleDiv">
				<f:SimpleForm id="AppInfoFm" editable="true" layout="ResponsiveGridLayout" title="{i18n>ApplicationInformation}" labelSpanXL="5"
					labelSpanL="5" labelSpanM="5" labelSpanS="4" adjustLabelSpan="true" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"
					columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false">
					<f:content>
						<Label text="{i18n>EffectiveDate}"/>
						<Text
							text="{path:'EcpFieldData>/ZecpSaleDate', type: 'sap.ui.model.type.Date', constraints: {displayFormat: 'Date' }, formatOptions: { style: 'medium', strictParsing: true , UTC: true}}"/>
						<Label text="{i18n>Odometer}"/>
						<Input value="{EcpFieldData>/ZecpOdometer}" id="idOdo" type="Number" required="true" editable="{LocalDataModel>/editableField}"/>
						<Label text="{i18n>RoadHazard}"/>
						<Text text="{EcpFieldData>/ZecpRoadhazard}"/>
						<Label text="{i18n>BenefitsFlag}"/>
						<Text text="{EcpFieldData>/ZbenefitFlag}"/>
					</f:content>
				</f:SimpleForm>
			</html:div>
			<html:div class="exampleDiv">
				<f:SimpleForm id="AgrInfoFm" editable="true" layout="ResponsiveGridLayout" title="{i18n>AgreementInformation}" labelSpanXL="5"
					labelSpanL="5" labelSpanM="5" labelSpanS="4" adjustLabelSpan="true" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"
					columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false">
					<f:content>
						<Label text="{i18n>Status}"/>
						<Text text="{EcpFieldData>/ZecpAppStat}"/>
						<!--<Label text="{i18n>SaleDate}" visible="{oSetProperty>/saleDat01Visible}"/>-->
						<!--<Text visible="{oSetProperty>/saleDat01Visible}" text="{path:'EcpFieldData>/ZecpSaleDate'}"/>-->
						<Label text="{i18n>SaleDate}"/>
						<Text
							text="{path:'EcpFieldData>/ZecpSaleDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium', strictParsing: true , UTC: true }}"/>
						<Label text="{i18n>SubmissionDate}"/>
						<Text
							text="{path:'EcpFieldData>/ZecpSubDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium', strictParsing: true , UTC: true }}"/>
						<Label text="{i18n>IssueDealer}"/>
						<Text text="{EcpFieldData>/ZecpDealcode}"/>
						<Label text="{i18n>PreOwnedCert}"/>
						<Input id="idPrOwndCert" editable="{LocalDataModel>/editableField}" liveChange="onChangePreownedCert" value="{path : 'EcpFieldData>/PrOwndCert', type : 'sap.ui.model.type.String', 
                                  constraints : { 
                                      minLength : 2, 
                                      maxLength : 10 
                                  }}" valueState="{LocalDataModel>/PreownedState}"/>
						<!--<Label text="{i18n>SalesTIN}"/>-->
						<!--<Input value="{EcpFieldData>/ZecpSalesTin}"/>-->
					</f:content>
				</f:SimpleForm>
			</html:div>
		</l:Grid>
		<HBox alignContent="Center" justifyContent="Center" class="sapUiLargeMarginBottom">
			<Button class="sapUiTinyMarginBeginEnd" press="onDelete" text="{i18n>Delete}" type="Reject"/>
			<Button class="sapUiTinyMarginBeginEnd" press="onBackList" visible="{oSetProperty>/backToList}" text="{i18n>BacktoList}" type="Back"/>
			<Button class="sapUiTinyMarginBeginEnd" text="{i18n>BacktoList}" visible="{oSetProperty>/backSecondary}" type="Back" press="OnBackSecondary"/>
			<Button class="sapUiTinyMarginBeginEnd" text="{i18n>Back}" visible="{oSetProperty>/backBtnP}"  type="Back" press="OnBack"/> 
			<Button class="sapUiTinyMarginBeginEnd" text="{i18n>Save}" visible="{oSetProperty>/oPrimeryState}" id="idSaveBtn" press="onSaveApp"/>
			<Button class="sapUiTinyMarginBeginEnd" visible="{oSetProperty>/oPrimeryState01}" text="{i18n>Save}" id="idUpdateSavedBtn"
				press="onUpdateSavedApp"/>
			<Button class="sapUiTinyMarginBeginEnd" text="{i18n>PerformCIC}"/>
			<Button class="sapUiTinyMarginBeginEnd" press="onSubmitApp" visible="{oSetProperty>/oSecondaryState}" text="{i18n>Submit}" id="idSubmitBtn"
				type="Emphasized"/>
			<!--<Button class="sapUiTinyMarginBeginEnd" visible="{oSetProperty>/oSecondaryState01}" text="{i18n>Submit}" id="idUpdateSubmitBtn"-->
			<!--	press="onSubmitApp"/>-->
		</HBox>
	</l:VerticalLayout>
</core:FragmentDefinition>